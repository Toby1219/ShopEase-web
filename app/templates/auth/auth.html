<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>User Authentication</title>
        <!-- Load Bootstrap 5 CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0"
            crossorigin="anonymous">
        <!-- Load Tailwind for modern utility styling (Optional but helpful for custom details) -->
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet"
            href="{{url_for('static', filename='auth/base.css')}}">
    </head>
    <body>
        <div class="auth-container">
        {% if tab == 'login' %}
            <!-- Login Form Section -->
            <div id="login-form-container">
                <h3 class="text-center mb-4 fw-bold text-primary">Welcome
                    Back!</h3>
             
                <form method="POST" action="{{ url_for('Authenticator:user_login_in', tag='login') }}">
                    {{ form_login.hidden_tag() }}
                    <div class="mb-3">
                        <label for="loginEmail"
                            class="form-label text-gray-700">Email
                            Address</label>
                            {{ form_login.email(
                                type="email",
                                class_="form-control rounded-lg p-3",
                                id="loginEmail",
                                placeholder="you@example.com",
                                required=True
                            ) }}
                            {% for error in context["email_error"] %}
                                <small class="notifi text-danger" id="notifi-l-email" >{{ error }}</small>
                            {% endfor %}
                            
                    </div>
                    <div class="mb-4">
                        <label for="loginPassword"
                            class="form-label text-gray-700">Password</label>
                        {{ form_login.password(
                            type="password",
                            class_="form-control rounded-lg p-3",
                            id="loginPassword", 
                            placeholder="Enter your password", 
                            required=True
                        ) }}
                        {% for error in context["pwrd_error"] %}
                            <small class="text-danger">{{ error }}</small>
                        {% endfor %}
                    </div>
                    {{ form_login.submit( 
                        type="submit",
                        class="btn btn-primary w-100 p-3 fw-bold rounded-lg shadow-md hover:shadow-lg transition duration-200", id="submit-log")
                    }}
                </form>
                <div class="text-center mt-3">
                    <a href="#"
                        class="form-toggle-link text-sm text-gray-600 hover:text-primary">Forgot
                        Password?</a>
                </div>
                <hr class="my-4">
                <p class="text-center text-sm text-gray-500">
                    Don't have an account?
                    <a id="show-register" href="{{ url_for('Authenticator:user_register') }}"
                        class="form-toggle-link text-primary fw-semibold">
                        Register Here
                    </a>
                </p>
            </div>
        {% else %}
            <!-- Registration Form Section (Hidden by Default) -->
            <div id="register-form-container" class="">
                <h3 class="text-center mb-4 fw-bold text-success">Create Your
                    Account</h3>
                <form method="POST" action="{{ url_for('Authenticator:user_register') }}">
                    {{ form_reg.hidden_tag() }}
                    <div class="mb-3">
                        <label for="registerName"
                            class="form-label text-gray-700">User Name</label>
                        {{ form_reg.username(type="text", class_="form-control rounded-lg p-3", id="registerName", 
                        placeholder="John Doe", required=True)}}
                        {% for error in context["username_error"] %}
                            <small class="text-danger">{{ error }}</small>
                        {% endfor %}
                        
                    </div>
                    <div class="mb-3">
                        <label for="registerEmail"
                            class="form-label text-gray-700">Email
                            Address</label>
                        {{ form_reg.email(type="email", class="form-control rounded-lg p-3",
                            id="registerEmail", placeholder="you@example.com",
                            required=True)}}
                        {% for error in context["email_error"] %}
                            <small class="notifi text-danger" id="notifi-email" >{{ error }}</small>
                        {% endfor %}
                    </div>
                    <div class="mb-3">
                        <label for="registerPassword"
                            class="form-label text-gray-700">Password</label>
                        {{ form_reg.password(type="password",
                            class_="form-control rounded-lg p-3",
                            id="registerPassword",
                            placeholder="Minimum 8 characters", required=True
                        )}}
                        {% for error in context["password_error"] %}
                            <small class="text-danger">{{ error }}</small>
                        {% endfor %}
                    </div>
                    <div class="mb-4">
                        <label for="confirmPassword"
                            class="form-label text-gray-700">Confirm
                            Password</label>
                        {{ form_reg.confirm_password(type="password",
                            class_="form-control rounded-lg p-3",
                            id="confirmPassword", placeholder="Re-enter password",
                            required=True
                        )}}
                        {% for error in context["confirm_password_error"] %}
                            <small class="text-danger">{{ error }}</small>
                        {% endfor %}
                    </div>
                    {{ form_reg.submit(type="submit",
                        class_="btn btn-success w-100 p-3 fw-bold rounded-lg shadow-md hover:shadow-lg transition duration-200", id="submit-reg"
                    )}}    
                    
                </form>
                <hr class="my-4">
                <p class="text-center text-sm text-gray-500">
                    Already have an account?
                    <a id="show-login" href="{{ url_for('Authenticator:user_login_in') }}"class="form-toggle-link text-success fw-semibold">
                        Log In
                    </a>
                </p>
            </div>
        {% endif %}
        </div>

        <script src="{{url_for('static', filename='auth/base.js')}}"></script>
    </body>
</html>
